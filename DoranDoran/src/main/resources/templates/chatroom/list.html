<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>ì±„íŒ…ë°© ë¦¬ìŠ¤íŠ¸</title>
<style>
.chat-table-container {
  max-width: 700px;
  margin: 40px auto;
  padding: 0 20px;
  font-family: 'Helvetica', sans-serif;
}

.chat-table-container h2 {
  text-align: center;
  margin-bottom: 20px;
  color: #333;
}

.chat-table {
  width: 100%;
  border-collapse: collapse;
  background-color: #fff;
  border-radius: 8px;
  overflow: hidden;
  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.08);
}

.chat-table thead {
  background-color: #f5f5f5;
}

.chat-table th,
.chat-table td {
  padding: 16px;
  text-align: left;
  border-bottom: 1px solid #eee;
  font-size: 0.95rem;
}

.chat-table th {
  color: #555;
}

.chat-table td a {
  text-decoration: none;
  color: #007bff;
  font-weight: 500;
  transition: color 0.2s;
}

.chat-table td a:hover {
  color: #0056b3;
}

.chat-table tr:last-child td {
  border-bottom: none;
}
</style>
</head>
<body>
	<div class="chat-table-container">
  <h2>ë‚˜ì˜ ì±„íŒ…ë°©</h2>
  <table class="chat-table">
    <thead>
      <tr>
        <th>ì±„íŒ…ë°© ì´ë¦„</th>
        <th>ìƒì„± ì‹œê°„</th>
      </tr>
    </thead>
    <tbody id="roomList"></tbody>
  </table>
</div>	

	<script>
		fetch('/chatroom')
			.then(response => response.json())
			.then(data => {
				const tbody = document.getElementById('roomList');
				tbody.innerHTML = ''; // ì´ˆê¸°í™”

				data.forEach(room => {
					const tr = document.createElement('tr');

					tr.innerHTML = `
						<td>
						  <a href="/chatroom/${room.chatroomId}">
						    ğŸ’¬ ${room.user1}ë‹˜ê³¼ ${room.user2}ë‹˜ì˜ ì±„íŒ…
						  </a>
						</td>
						<td>${room.chatroomTimestamp}</td>
					`;

					tbody.appendChild(tr);
				});
			})
			.catch(error => {
				console.error("ì±„íŒ…ë°© ë¦¬ìŠ¤íŠ¸ ë¶ˆëŸ¬ì˜¤ê¸° ì‹¤íŒ¨:", error);
			});
	</script>
	
</body>
</html>